@using dbQLBDS.Models;
@model List<CanHo>

@{
    ViewBag.Title = "Quản lý Căn Hộ";
    Layout = "~/Views/Admin/_LayoutAdmin.cshtml";
}

@{
    int count = ViewBag.Count;
    int rowperpage = ViewBag.RowPerPage;
    int page = ViewBag.Page;
}


<h2 class="dashboard-title">QUẢN LÝ CĂN HỘ</h2>

<div class="editor-field">

    <a href="@Url.Action("TaoCanHo", "CanHo")" class="create-button">Tạo căn hộ mới</a>
    <br /><br /><br />

    <h3 class="editor-field-title">TÌM KIẾM</h3>

    <div class="editor-item">
        <div class="editor-label">
            Tên căn hộ: <span class="required-field">*</span>
        </div>
        <div class="editor-input">
            <input type="text" name="txtTenCanHo" id="txtTenCanHo" class="input-txt" />
        </div>
    </div>

    <div class="editor-item">
        <div class="editor-label">
            Địa điểm: <span class="required-field">*</span>
        </div>
        <div class="editor-input">
            
            <select class="">
                <option value="1">Hà Nội</option>
                <option value="2">Hồ Chí Minh</option>
            </select>
        
        </div>
    </div>




    <h3 class="editor-field-title">KẾT QUẢ (SỐ LƯỢNG: @count)</h3>
    <div class="list-content">
        
        

        <table cellspacing="0" cellpadding="0">
            <tr>
                <th width="5%">
                    Mã
                </th>
                <th width="25%">
                    Tên Căn Hộ
                </th>
                <th width="25%">
                    Địa Chỉ
                </th>
                <th width="15%">
                    Giá Thuê (VND)
                </th>
                <th width="15%">
                    Diện Tích (m<sup style="font-size:10px;">2</sup>)
                </th>
                <th width="10%">
                    &nbsp;
                </th>
            </tr>

            @foreach(CanHo item in Model) { 
            <tr>
                <td>
                    @item.MaCanHo
                </td>
                <td>
                    @item.TenCanHo
                </td>
                <td>
                    @item.DiaChi
                </td>
                <td>
                    @item.GiaThue
                </td>
                <td>
                    @item.DienTich
                </td>
                <td>
                    <a href="@Url.Action("ChinhSuaCanHo", "CanHo", new { id = item.MaCanHo })" class="list-edit-button" ><img src="@Url.Content("~/Content/images/edit.png")" /></a>
                    <a href="" class="list-delete-button" ><img src="@Url.Content("~/Content/images/del.png")" /></a>
                </td>
            </tr>
            }
        </table>

        <div class="list-paging">

            @{
                double num = Math.Ceiling(count * 1.0 / rowperpage); // số trang cần phát sinh, ceiling làm tròn số, class = 'cur' màu đỏ index trang hiện tại
            }

            <ul>
                
                @for (int i = 1; i <= num; i++)
                {
                    if (i == page)
                    {
                        <li>
                            <a href="@Url.Action("Index","CanHo", new {@page = i})" class="cur">@i</a> 
                        </li>
                    }
                    else 
                    {
                        <li>
                            <a href="@Url.Action("Index","CanHo", new {@page = i})" >@i</a>
                        </li>
                    }
                }
                
            </ul>
        </div>

        
        <a href="@Url.Action("TaoCanHo", "CanHo")" class="create-button" >Tạo căn hộ mới</a>
        <br />
    </div>
    
</div>
